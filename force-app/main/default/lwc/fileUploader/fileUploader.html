<template>
  <lightning-card variant="base" title="Upload File">
    <div class="slds-grid slds-wrap">
      <div class="slds-col slds-size_6-of-12">
        <div class="slds-var-m-around_medium">
          <lightning-input
            type="file"
            label="Upload the .log / .txt file here"
            accept={acceptedFormats}
            onchange={handleFileUpload}
            disabled={textAreaFilled}
          ></lightning-input>
          <div lwc:if={fileUploaded}>
            <lightning-badge
              label={fileNameLabel}
              class="slds-badge"
              icon-alternative-text={fileData.fileName}
              icon-name="doctype:attachment"
              icon-position="start"
            ></lightning-badge>
            <lightning-button
              variant="destructive-text"
              label="Remove File"
              onclick={removeFileHandler}
            ></lightning-button>
          </div>
        </div>
      </div>
      <div class="slds-col slds-size_6-of-12">
        <c-input-as-text
          is-file-uploaded={fileUploaded}
          ontextareachange={textAreaChangeHandler}
        ></c-input-as-text>
      </div>
    </div>
    <div class="slds-clearfix" lwc:if={displayButton}>
      <lightning-button
        variant="brand-outline"
        class="slds-align_absolute-center"
        label="Analyze Log"
        title="Click to analyze the log"
        onclick={handleSubmit}
        type="submit"
      ></lightning-button>
    </div>
  </lightning-card>
</template>
